<!DOCTYPE html>
<html>
<head>
  <title>Ledger</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
  if (!localStorage.getItem("token")) {
    window.location.replace("index.html");
  }
</script>

<div class="mobile-header">
  <span class="menu-btn" onclick="toggleSidebar()">☰</span>
  <span>Ledger</span>
</div>

<div class="app">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <h2>Ledger App</h2>
    <a href="dashboard.html">Dashboard</a>
    <a href="user.html">Users</a>
    <a class="active" href="ledger.html">Ledger</a>
    <a href="profile.html">Profile</a>
    <a onclick="logout()">Logout</a>
  </div>

  <!-- MAIN -->
  <div class="main">

    <!-- USER INFO -->
    <h2 id="userName">Ledger</h2>
    <div style="margin-bottom:15px;">
  <label><b>Year:</b></label>
  <select id="yearSelect"></select>
</div>

    <p id="userMeta"></p>

    <!-- SUMMARY -->
    <div class="ledger-summary">
      <div class="summary-card credit">
        Total Credit <br> ₹ <span id="totalCredit">0</span>
      </div>

      <div class="summary-card debit">
        Total Debit <br> ₹ <span id="totalDebit">0</span>
      </div>

      <div class="summary-card balance">
        Balance <br> ₹ <span id="finalBalance">0</span>
      </div>
    </div>

    <!-- LEDGER TABLE -->
    <div class="ledger-table-wrapper">
      <table class="ledger-table">
        <thead>
          <tr>
            <th>Select</th>
            <th>No.</th>
            <th>Date</th>
            <th>Particular</th>
            <th>Credit</th>
            <th>Debit</th>
            <th>Balance</th>
          </tr>
        </thead>

        <tbody id="ledgerBody">
          <!-- JS rows -->
        </tbody>
      </table>
    </div>

    <!-- ACTION BUTTONS -->
    <div class="ledger-actions">
      <button onclick="saveLedger()">Save Ledger</button>
      <button onclick="editSelected()">Edit Selected Row</button>
      <button onclick="deleteSelected()">Delete Selected Row</button>
    </div>

  </div>
</div>

<script src="ledger.js?v=3"></script>

</body>
</html>
